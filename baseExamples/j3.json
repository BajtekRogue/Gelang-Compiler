{
  "procedures":[
    {
      "head":{
        "identifier":"check",
        "arguments":[
          "n",
          "d",
          "p"
        ]
      },
      "declarations":[
        "r"
      ],
      "commands":[
        {
          "type":"assign",
          "identifier":"p",
          "expression":0
        },
        {
          "type":"assign",
          "identifier":"r",
          "expression":{
            "type":"modulo",
            "left":"n",
            "right":"d"
          }
        },
        {
          "type":"while",
          "condition":{
            "type":"eq",
            "left":"r",
            "right":0
          },
          "commands":[
            {
              "type":"assign",
              "identifier":"n",
              "expression":{
                "type":"divide",
                "left":"n",
                "right":"d"
              }
            },
            {
              "type":"assign",
              "identifier":"p",
              "expression":{
                "type":"plus",
                "left":"p",
                "right":1
              }
            },
            {
              "type":"assign",
              "identifier":"r",
              "expression":{
                "type":"modulo",
                "left":"n",
                "right":"d"
              }
            }
          ]
        }
      ]
    }
  ],
  "main":{
    "declarations":[
      "n",
      "m",
      "potega",
      "dzielnik"
    ],
    "commands":[
      {
        "type":"read",
        "identifier":"n"
      },
      {
        "type":"assign",
        "identifier":"dzielnik",
        "expression":2
      },
      {
        "type":"assign",
        "identifier":"m",
        "expression":{
          "type":"multiply",
          "left":"dzielnik",
          "right":"dzielnik"
        }
      },
      {
        "type":"while",
        "condition":{
          "type":"ge",
          "left":"n",
          "right":"m"
        },
        "commands":[
          {
            "type":"procedure_call",
            "identifier":"check",
            "arguments":[
              "n",
              "dzielnik",
              "potega"
            ]
          },
          {
            "type":"if",
            "condition":{
              "type":"gt",
              "left":"potega",
              "right":0
            },
            "commands":[
              {
                "type":"write",
                "value":"dzielnik"
              },
              {
                "type":"write",
                "value":"potega"
              }
            ]
          },
          {
            "type":"assign",
            "identifier":"dzielnik",
            "expression":{
              "type":"plus",
              "left":"dzielnik",
              "right":1
            }
          },
          {
            "type":"assign",
            "identifier":"m",
            "expression":{
              "type":"multiply",
              "left":"dzielnik",
              "right":"dzielnik"
            }
          }
        ]
      },
      {
        "type":"if",
        "condition":{
          "type":"ne",
          "left":"n",
          "right":1
        },
        "commands":[
          {
            "type":"write",
            "value":"n"
          },
          {
            "type":"write",
            "value":1
          }
        ]
      }
    ]
  }
}
